// Image Test (option+shift+r)
// (opt shift r)

var artboards = [[doc currentPage] artboards];

log ([artboards count]);

var ag = artboards[0];

var rect = ag.addLayerOfType("rectangle");


rect.setName("Test Rect");

[rect frame].width = 200;
[rect frame].height = 200;

[rect frame].x = 200;
[rect frame].y = 200;

rect.style().fills().addNewStylePart();
    var color = rect.style().fills()[0].color();
    color.setRed(1);
    color.setGreen(0);
    color.setBlue(1);



var docFolder = [[doc fileURL] path];

log (docFolder);
/*
var imageLayer = ag.addLayerOfType("image");


imageLayer.setName("Test Image");

log (imageLayer.class());

var tmpDir = NSTemporaryDirectory() + "taptonics/";
[[NSFileManager defaultManager] createDirectoryAtPath:tmpDir attributes:nil];
log (tmpDir);

var s = "http://api.randomuser.me/0.3.2/portraits/women/20.jpg";
var imgURL = [NSURL URLWithString:s];


var imgURL = [NSURL URLWithString:s];
var fileName = [[imgURL path] lastPathComponent];

var imageData = [NSData dataWithContentsOfURL: imgURL];

var localFile = tmpDir + fileName;

if (imageData) {
    // writeToFile is defined in JSTExtras
    log ("here");
    [imageData writeToFile: localFile];
}

var image = [[NSImage alloc] initWithData:imageData];

//var image = [[NSImage alloc] initWithContentsOfFile:localFile];



//imageLayer.setImage(image);

[imageLayer frame].width = 200;
[imageLayer frame].height = 200;

*/
